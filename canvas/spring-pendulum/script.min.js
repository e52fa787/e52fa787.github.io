function ba(e){var n=0;return function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}}}function k(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if(n)return n.call(e);if("number"==typeof e.length)return{next:ba(e)};throw Error(String(e)+" is not an iterable or ArrayLike");}function F(e){if(!(e instanceof Array)){e=k(e);for(var n,v=[];!(n=e.next()).done;)v.push(n.value);e=v}return e}
(function(e){e.addEventListener("load",function(){function n(a){a=void 0===a?M():a;f.clearRect(0,0,B,C);R++;S=Math.min(a-T,30);T=a;if(G)p(D,q);else{a=r;var b=r;var c=.001*S,d=v.apply(null,F(b)),g=v.apply(null,F(t(b,u(c/2,d)))),h=v.apply(null,F(t(b,u(c/2,g)))),y=v.apply(null,F(t(b,u(c,h))));b=t(b,t(u(c/6,t(d,y)),u(c/3,t(g,h))));p(a,b);.3>r[0]+1&&(r[0]=-.7,r[2]=-r[2]);p(D,ca.apply(null,F(r)))}f.beginPath();f.scale(100,100);f.arc.apply(f,[].concat(F(E),[.15,0,2*Math.PI]));f.fillStyle="#333";f.fill();
f.moveTo.apply(f,F(E));f.lineWidth=.03;f.lineTo.apply(f,F(D));f.strokeStyle="#333";f.stroke();f.beginPath();f.arc.apply(f,[].concat(F(D),[.15,0,2*Math.PI]));f.fillStyle="#ccc";f.fill();f.setTransform(1,0,0,1,0,0);U=e.requestAnimationFrame(n)}function v(a,b,c,d){var g=1+a;return[c,d,g*d*d-3*a+9.81*Math.cos(b)-.1*c,-(9.81*Math.sin(b)+2*c*d)/g-.1*d]}function ca(a,b){return t(E,u(1+a,[Math.sin(b),Math.cos(b)]))}function da(a,b,c,d){c=void 0===c?0:c;d=void 0===d?0:d;a=N([a,b],E);b=Math.sqrt(V(a));var g=
Math.atan2(a[0],a[1]),h=0,y=0;(c||d)&&0<b&&(h=c*c+d*d,16<h&&(h=4*Math.pow(h,-.5),c*=h,d*=h),y=(c*a[1]-d*a[0])/b,h=(a[0]*c+a[1]*d)/b);return[b-1,g,h,y]}function V(a){return a.reduce(function(b,c){return b+c*c},0)}function u(a,b){return b.map(function(c){return a*c})}function N(a,b){return a.map(function(c,d){return c-b[d]})}function t(a,b){return a.map(function(c,d){return c+b[d]})}function W(){B=e.innerWidth;C=e.innerHeight;H.width=B;H.height=C}function X(a,b,c,d){function g(){d&&d.call(y);l(z,"touchmove mousemove touchend mouseup",
h,!0);l(e,"blur",g,!0)}function h(w){w.preventDefault();c.call(this,Y(w),w)}var y=this;l(a,"touchstart mousedown",function(w){w.preventDefault();b.call(this,Y(w),w);l(z,"touchmove mousemove",h);l(z,"touchend mouseup",g);l(e,"blur",g)})}function Z(a,b,c){var d=k(a);a=d.next().value;d=d.next().value;0>a?a=0:a>b&&(a=b);0>d?d=0:d>c&&(d=c);return[a,d]}function Y(a){if("touches"in a){var b=a.changedTouches,c;a=null!=(c=a.touches[0])?c:b[0];return[a.clientX,a.clientY]}return[a.clientX,a.clientY]}function p(a,
b){a.splice.apply(a,[0,a.length].concat(F(b)))}function I(a,b){b=void 0===b?2:b;return Math.round(a*Math.pow(10,b))/Math.pow(10,b)}function M(){var a=z.timeline.currentTime;if("number"===typeof a)return a;throw Error("document.timeline.currentTime is not a number");}function l(a,b,c,d){b=k(b.split(" "));for(var g=b.next();!g.done;g=b.next())g=g.value,d?a.removeEventListener(g,c):a.addEventListener(g,c)}function A(a){var b=z.getElementById(a);if(b)return b;throw Error("Element #"+a+" not found");}
var z=e.document,J=z.body,m=A("controls"),ea=A("css-output"),fa=m.getElementsByTagName("header")[0],ha=m.getElementsByTagName("ul")[0],ia=m.getElementsByClassName("toggle-dropdown")[0],O=A("toggle-animation"),ja=A("reset-canvas"),K=A("output-coords"),ka=K.innerHTML;l(e,"blur",function(){});l(e,"focus",function(){});var L=[0,0],x=function(a){return[a.left,a.top]}(m.getBoundingClientRect());X(fa,function(a){p(L,a);m.classList.add("currentlyDragging")},function(a){x[0]+=a[0]-L[0];x[1]+=a[1]-L[1];p(L,
a);var b=k(Z(x,J.clientWidth-m.clientWidth,J.clientHeight-m.clientHeight));a=b.next().value;b=b.next().value;m.style.transform="translate("+a+"px,"+b+"px)"},function(){m.classList.remove("currentlyDragging");p(x,Z(x,J.clientWidth-m.clientWidth,J.clientHeight-m.clientHeight))});l(ia,"click",function(){m.classList.toggle("closed")});ea.innerHTML="#controls>ul{max-height:"+2*ha.childElementCount+"em;}";l(O,"change",function(){O.checked?e.requestAnimationFrame(n):e.cancelAnimationFrame(U)});l(ja,"click",
function(){R=0;r=[3.27,0,0,0];f.clearRect(0,0,B,C)});var H=A("canvas"),f=H.getContext("2d"),q=[0,0],P=[0,0],Q,aa=0,U,B=0,C=0,R=0,T=0,S=0;W();l(e,"resize",W);var E=[B/200,C/600],D=t(E,[0,1]),G=!1,r=[3.27,.1,0,0];X(H,function(a){p(q,u(.01,a));Q=M();O.checked&&V(N(q,D))<=4*Math.pow(.15,2)&&(G=!0);K.innerHTML=I(q[0])+", "+I(q[1])},function(a){a=u(.01,a);var b=M()-Q;Q+=b;0<b&&p(P,u(1E3/b,N(a,q)));p(q,a);clearTimeout(aa);aa=setTimeout(function(){p(P,[0,0])},50);K.innerHTML=I(q[0])+", "+I(q[1])},function(){G&&
(p(r,da.apply(null,[].concat(F(q),F(P)))),G=!1,K.innerHTML=ka)})})})(window);